[繁中版](./README-tw.md) | [简中版](./README-zh.md) | [Português (Brasil)](./README-pt_BR.md) | [Français](./README-fr.md) | [한국어](./README-ko.md) | [Nederlands](./README-nl.md) | [Indonesia](./README-id.md) | [ไทย](./README-th.md) | [Русский](./README-ru.md) | [Українська](./README-uk.md) | [Español](./README-es.md) | [Italiano](./README-it.md) | [日本語](./README-ja.md) | [Deutsch](./README-de.md) | [Türkçe](./README-tr.md) | [Tiếng Việt](./README-vi.md) | [Монгол](./README-mn.md) | [हिंदी](./README-hi.md) | [العربية](./README-ar.md) | [فارسی](./README-fa.md) | [Polski](./README-pl.md) | [Македонски](./README-mk.md) | [ລາວ](./README-lo.md) | [Ελληνικά](./README-el.md)

# چک لیست امنیتی API
لیست مهمترین اقدامات متقابل امنیتی هنگام طراحی ، آزمایش و انتشار API شما.


---

## احراز هویت
- [] از "Auth Basic" استفاده نکنید. به جای آن از احراز هویت استاندارد استفاده کنید (به عنوان مثال [JWT] (https://jwt.io/) ، [OAuth] (https://oauth.net/)).
- [] چرخ را در "تأیید هویت" ، "تولید نشانه" ، "ذخیره رمز عبور" دوباره اختراع نکنید. از استانداردها استفاده کنید.
- [] از ورود به سیستم "Max Retry" و ویژگی های زندان استفاده کنید.
- [] از رمزگذاری روی همه داده های حساس استفاده کنید.

### JWT (توکن وب JSON)
- [] از کلید پیچیده ای تصادفی (JWT Secret) استفاده کنید تا زورگویی را به سختی تحمیل کنید.
- [] الگوریتم را از سربرگ استخراج نکنید. الگوریتم موجود در باطن ("HS256" یا "RS256") را مجبور کنید.
- [] منقضی شدن توکن (`TTL` ،` RTTL`) را در کوتاه ترین زمان ممکن انجام دهید.
- [] داده های حساس را در بار JWT ذخیره نکنید ، می توان آن را رمزگشایی کرد [به راحتی] (https://jwt.io/#debugger-io).

### اوه
- [] همیشه سمت سرور "redirect_uri" را تأیید کنید تا فقط URL های لیست شده مجاز باشند.
- [] همیشه سعی کنید کد و نه نشانه ها را مبادله کنید (اجازه ندهید که "answer_type = نشانه").
- [] برای جلوگیری از CSRF در فرآیند احراز هویت OAuth از پارامتر "state" با یک هش تصادفی استفاده کنید.
- [] دامنه پیش فرض را تعیین کنید ، و پارامترهای دامنه را برای هر برنامه تأیید کنید.

## دسترسی
- [] درخواست های محدود (پرتاب کننده) را برای جلوگیری از حملات DDoS / brute-force محدود کنید.
- [] برای جلوگیری از MITM (مرد در حمله میانه) از HTTPS در سمت سرور استفاده کنید.
- [] برای جلوگیری از حمله SSL Strip از هدر `HSTS` با SSL استفاده کنید.

## ورودی
- [] از روش HTTP مناسب با توجه به عملكرد استفاده كنيد: 'GET (بخوانيد)' ، 'POST (ساخت) "،" PUT / PATCH (تعويض / بروزرساني) "، و" DELETE (براي حذف يك ضبط) "، و اگر روش درخواستی برای منابع درخواستی مناسب نیست با "405 روش مجاز نیست" پاسخ دهید.
- [] تأیید «نوع محتوا» را در صورت درخواست سربرگ (مذاکره با محتوا) را تأیید کنید تا فقط فرمت پشتیبانی شده شما (به عنوان مثال `برنامه / xml` ،` برنامه / json` ، و غیره) اجازه داده شود و در صورت پاسخ دادن به پاسخ 406 قابل قبول نیست. مطابقت ندارد
- [] محتوا "نوع محتوای" داده های ارسال شده را همانطور که می پذیرید تأیید کنید (مثلاً "برنامه / x-www-form-urlencoded" ، "multipart / form-data" ، "Application / json" و غیره).
- [] برای جلوگیری از آسیب پذیری های رایج ، ورودی کاربر را تأیید کنید (به عنوان مثال "XSS" ، "SQL-Injection" ، "اجرای کد از راه دور" و غیره).
- [] از داده های حساس ("اعتبار" ، "گذرواژه" ، "نشانه های امنیتی" یا "کلیدهای API") در URL استفاده نکنید ، اما از هدر استانداردسازی مجوز استفاده کنید.
- [] از یک سرویس API Gateway برای فعال کردن حافظه پنهان ، خط مشی های نرخ مجاز (به عنوان مثال "Quota" ، "Spike Arrest" ، یا "حد مجاز نرخ همزمان") استفاده کنید و منابع API را به صورت پویا مستقر کنید.

## در حال پردازش
- [] بررسی کنید که آیا تمام نقاط پایانی در پشت احراز هویت محافظت می شوند تا از فرایند احراز هویت خراب جلوگیری شود.
- [] از شناسه منبع خود کاربر باید اجتناب شود. به جای `/ کاربر / 654321 / سفارشات` از `/ me / سفارشات` استفاده کنید.
- [] شناسه های خودکار را افزایش ندهید. در عوض از 'UUID' استفاده کنید.
- [] اگر در حال تجزیه و تحلیل پرونده های XML هستید ، اطمینان حاصل کنید که تجزیه نهاد برای جلوگیری از `XXE (حمله موجود خارجی XML) فعال نیست.
- [] اگر مشغول تجزیه و تحلیل پرونده های XML هستید ، اطمینان حاصل کنید که گسترش نهاد برای جلوگیری از `میلیارد خندید / بمب XML از طریق حمله به گسترش نهاد نمایی امکان پذیر نیست.
- [] برای بارگذاری پرونده از CDN استفاده کنید.
- [] اگر با حجم عظیمی از داده ها سر و کار دارید ، از Workers و Que ها برای پردازش هر چه بیشتر در پس زمینه استفاده کنید و سریعاً پاسخ دهید تا از HTTP مسدود کردن جلوگیری کنید.
- [] فراموش نکنید که حالت DEBUG را خاموش کنید.

## خروجی
- [] ارسال `گزینه X-Content-Type: گزینه nosniff`.
- [] ارسال `گزینه X-Frame- گزینه: رد کردن هدر.
- [] ارسال `محتوای-امنیت-خط مشی: پیش فرض-src 'هیچ'.
- [] هدست های اثر انگشت را حذف کنید - `X-Powered By ، ،` Server` ، `X-AspNet-Version` و غیره
- [] برای پاسخ خود به زور از نوع محتوا استفاده کنید. اگر "برنامه / json" را برگردانید ، پاسخ "نوع محتوا" شما برنامه "json" است.
- [] داده های حساس مانند "اعتبار" ، "رمزهای عبور" یا "علائم امنیتی" را برگردانید.
- [] کد وضعیت مناسب را مطابق با عملیات انجام شده برگردانید. (به عنوان مثال ، "200 خوب" ، "400 درخواست بد" ، "401 غیر مجاز" ، "روش مجاز 405 مجاز نیست" و غیره).

## CI & CD
- [] طراحی و اجرای خود را با پوشش واحد / تست های یکپارچه حسابرسی کنید.
- [] از یک فرآیند بررسی کد استفاده کنید و خود تأیید نکنید.
- [] اطمینان حاصل کنید که قبل از فشار آوردن به تولید ، از جمله کتابخانه های فروشنده و سایر وابستگی ها ، کلیه مؤلفه های خدمات شما توسط نرم افزار AV اسکن شده اند.
- [] یک راه حل برگشت برای استقرار طراحی کنید.


---

## همچنین ببینید:
- [yosriady / api-Development-Tools] (https://github.com/yosriady/api-development-tools) - مجموعه ای از منابع مفید برای ساختن API های RESTful HTTP + JSON.


---

# مشارکت
با چنگ زدن به این مخزن ، ایجاد برخی تغییرات و ارسال درخواست های کشش ، می توانید از این طریق سهم بگیرید. برای هر گونه سؤالی ایمیل خود را در 'team @ shieldfy.io' رها کنید.
